<div class="menu-container">
  <!-- Header -->
  <div class="menu-header">
    <h1>Menu Items</h1>

    <div class="header-actions"> 
      <button mat-raised-button color="primary" (click)="addMenuItem()">
        <mat-icon>add</mat-icon>
        Add
      </button>
      <button mat-raised-button color="primary" (click)="refreshMenuItems()">
        <mat-icon>refresh</mat-icon>
        Refresh
      </button>
    </div>
  </div>

  <!-- Loading Spinner -->
  <div *ngIf="loading$ | async" class="loading-container">
    <mat-spinner></mat-spinner>
    <p>Loading menu items...</p>
  </div>

  <!-- Error Message -->
  <div *ngIf="error$ | async as error" class="error-message">
    <p>Error: {{ error }}</p>
    <button mat-button color="warn" (click)="refreshMenuItems()">Retry</button>
  </div>

  <!-- Menu List -->
  <div *ngIf="!(loading$ | async) && !(error$ | async)" class="menu-list">
    
    <!-- No Data Message -->
    <div *ngIf="(menuItems$ | async)?.length === 0" class="no-data">
      <mat-icon>restaurant_menu</mat-icon>
      <p>No menu items available</p>
    </div>

    <!-- Menu Items -->
    <div *ngFor="let item of menuItems$ | async" class="menu-item">
      <!-- Image Preview -->
      <div class="item-image">
        <img [src]="getImageUrl(item)" 
             [alt]="item.name"
             (error)="$any($event.target).src='https://www.foodservicerewards.com/cdn/shop/t/262/assets/fsr-placeholder.png?v=45093109498714503231652397781'">
      </div>

      <!-- Item Details -->
      <div class="item-details">
        <h3 class="item-name">{{ item.name }}</h3>
        <p class="item-description">{{ item.itemDescription }}</p>
        
        <div class="item-meta">
          <mat-chip class="category-chip">{{ item.classification }}</mat-chip>
          <span class="item-price">â‚¹{{ item.price | number:'1.2-2' }}</span>
          <mat-chip [class.available]="item.itemAvailable" 
                   [class.unavailable]="!item.itemAvailable">
            {{ item.itemAvailable ? 'Available' : 'Unavailable' }}
          </mat-chip>
        </div>
      </div>

      <!-- Action Buttons (visible on hover) -->
      <div class="item-actions">
        <button mat-icon-button 
                color="primary"
                (click)="editMenuItem(item)"
                matTooltip="Edit">
          <mat-icon>edit</mat-icon>
        </button>
        <button mat-icon-button 
                color="warn"
                (click)="deleteMenuItem(item)"
                matTooltip="Delete">
          <mat-icon>delete</mat-icon>
        </button>
      </div>
    </div>
  </div>
</div>
